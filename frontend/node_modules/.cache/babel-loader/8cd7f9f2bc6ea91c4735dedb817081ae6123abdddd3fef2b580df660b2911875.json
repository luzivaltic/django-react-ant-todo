{"ast":null,"code":"import _objectSpread from\"/home/luzivanlt/django-todo-react/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/home/luzivanlt/django-todo-react/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/luzivanlt/django-todo-react/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import axios from\"axios\";import React,{useEffect,useState}from'react';import InputTask from'./components/InputTask';import{ListTask}from'./components/ListTask';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var api_url=\"http://localhost:8000/api/tasks/\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tasks=_useState2[0],setTasks=_useState2[1];useEffect(function(){axios.get(api_url).then(function(data){return setTasks(data.data);});},[]);function handleAdd(task){var newTask={id:tasks.length+1,name:task.task,addition_info:'',completed:false};setTasks([newTask].concat(_toConsumableArray(tasks)));axios.post(api_url,newTask);}function handleDelete(task){var updatedTasks=tasks.filter(function(t){return t.id!==task.id;});setTasks(updatedTasks);axios.delete(\"\".concat(api_url).concat(task.id,\"/\"));}function handleToggle(task){var updatedTasks=tasks.map(function(t){if(t.id===task.id){return _objectSpread(_objectSpread({},t),{},{completed:!t.completed});}return t;});setTasks(updatedTasks);var taskData={name:task.name,addition_info:task.addition_info,completed:!task.completed};axios.put(\"\".concat(api_url).concat(task.id,\"/\"),taskData);}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:\" TODO APP \"}),/*#__PURE__*/_jsx(InputTask,{onAdd:handleAdd}),/*#__PURE__*/_jsx(ListTask,{tasks:tasks,onToggle:handleToggle,onDelete:handleDelete})]});}export default App;","map":{"version":3,"names":["axios","React","useEffect","useState","InputTask","ListTask","jsx","_jsx","jsxs","_jsxs","api_url","App","_useState","_useState2","_slicedToArray","tasks","setTasks","get","then","data","handleAdd","task","newTask","id","length","name","addition_info","completed","concat","_toConsumableArray","post","handleDelete","updatedTasks","filter","t","delete","handleToggle","map","_objectSpread","taskData","put","className","children","onAdd","onToggle","onDelete"],"sources":["/home/luzivanlt/django-todo-react/frontend/src/App.js"],"sourcesContent":["import './App.css';\nimport axios from \"axios\";\nimport React, { useEffect, useState } from 'react';\nimport InputTask from './components/InputTask';\nimport { ListTask } from './components/ListTask';\n\nvar api_url = \"http://localhost:8000/api/tasks/\"\n\nfunction App() {\n  const [tasks, setTasks] = useState([])\n  useEffect(() => {\n      axios\n      .get(api_url)\n      .then((data) => setTasks(data.data) )\n  }, [])\n\n  function handleAdd(task) {\n    const newTask = { id : tasks.length + 1, name : task.task, addition_info: '', completed: false,  };\n    setTasks([newTask, ...tasks]);\n    axios.post(api_url, newTask)\n  }\n\n  function handleDelete(task) {\n    const updatedTasks = tasks.filter((t) => t.id !== task.id);\n    setTasks(updatedTasks);\n    axios.delete(`${api_url}${task.id}/`);\n  }\n\n  function handleToggle(task) {\n    const updatedTasks = tasks.map((t) => {\n      if(t.id === task.id) {\n        return {...t, completed: !t.completed};\n      }\n      return t;\n    });\n    setTasks(updatedTasks);\n    const taskData = {name: task.name, addition_info: task.addition_info, completed: !task.completed};\n    axios.put(`${api_url}${task.id}/`, taskData)\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\"> TODO APP </header>\n      <InputTask onAdd={handleAdd} />\n      <ListTask tasks={tasks} onToggle={handleToggle} onDelete={handleDelete}/>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"uYAAA,MAAO,WAAW,CAClB,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,OAASC,QAAQ,KAAQ,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjD,GAAI,CAAAC,OAAO,CAAG,kCAAkC,CAEhD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,IAAAC,SAAA,CAA0BT,QAAQ,CAAC,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtBX,SAAS,CAAC,UAAM,CACZF,KAAK,CACJiB,GAAG,CAACP,OAAO,CAAC,CACZQ,IAAI,CAAC,SAACC,IAAI,QAAK,CAAAH,QAAQ,CAACG,IAAI,CAACA,IAAI,CAAC,GAAE,CACzC,CAAC,CAAE,EAAE,CAAC,CAEN,QAAS,CAAAC,SAASA,CAACC,IAAI,CAAE,CACvB,GAAM,CAAAC,OAAO,CAAG,CAAEC,EAAE,CAAGR,KAAK,CAACS,MAAM,CAAG,CAAC,CAAEC,IAAI,CAAGJ,IAAI,CAACA,IAAI,CAAEK,aAAa,CAAE,EAAE,CAAEC,SAAS,CAAE,KAAQ,CAAC,CAClGX,QAAQ,EAAEM,OAAO,EAAAM,MAAA,CAAAC,kBAAA,CAAKd,KAAK,GAAE,CAC7Bf,KAAK,CAAC8B,IAAI,CAACpB,OAAO,CAAEY,OAAO,CAAC,CAC9B,CAEA,QAAS,CAAAS,YAAYA,CAACV,IAAI,CAAE,CAC1B,GAAM,CAAAW,YAAY,CAAGjB,KAAK,CAACkB,MAAM,CAAC,SAACC,CAAC,QAAK,CAAAA,CAAC,CAACX,EAAE,GAAKF,IAAI,CAACE,EAAE,GAAC,CAC1DP,QAAQ,CAACgB,YAAY,CAAC,CACtBhC,KAAK,CAACmC,MAAM,IAAAP,MAAA,CAAIlB,OAAO,EAAAkB,MAAA,CAAGP,IAAI,CAACE,EAAE,MAAI,CACvC,CAEA,QAAS,CAAAa,YAAYA,CAACf,IAAI,CAAE,CAC1B,GAAM,CAAAW,YAAY,CAAGjB,KAAK,CAACsB,GAAG,CAAC,SAACH,CAAC,CAAK,CACpC,GAAGA,CAAC,CAACX,EAAE,GAAKF,IAAI,CAACE,EAAE,CAAE,CACnB,OAAAe,aAAA,CAAAA,aAAA,IAAWJ,CAAC,MAAEP,SAAS,CAAE,CAACO,CAAC,CAACP,SAAS,GACvC,CACA,MAAO,CAAAO,CAAC,CACV,CAAC,CAAC,CACFlB,QAAQ,CAACgB,YAAY,CAAC,CACtB,GAAM,CAAAO,QAAQ,CAAG,CAACd,IAAI,CAAEJ,IAAI,CAACI,IAAI,CAAEC,aAAa,CAAEL,IAAI,CAACK,aAAa,CAAEC,SAAS,CAAE,CAACN,IAAI,CAACM,SAAS,CAAC,CACjG3B,KAAK,CAACwC,GAAG,IAAAZ,MAAA,CAAIlB,OAAO,EAAAkB,MAAA,CAAGP,IAAI,CAACE,EAAE,MAAKgB,QAAQ,CAAC,CAC9C,CAEA,mBACE9B,KAAA,QAAKgC,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBnC,IAAA,WAAQkC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,YAAU,EAAS,cAClDnC,IAAA,CAACH,SAAS,EAACuC,KAAK,CAAEvB,SAAU,EAAG,cAC/Bb,IAAA,CAACF,QAAQ,EAACU,KAAK,CAAEA,KAAM,CAAC6B,QAAQ,CAAER,YAAa,CAACS,QAAQ,CAAEd,YAAa,EAAE,GACrE,CAEV,CAEA,cAAe,CAAApB,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}